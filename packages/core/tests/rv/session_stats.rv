# Session Stats Test
# Intent: Track review statistics per session.

session JD1
clock 2025-01-01

topic "Topic 1" --priority 90
topic "Topic 2" --priority 80
topic "Topic 3" --priority 70
topic "Topic 4" --priority 60

# Initial stats should be zero
inspect-stats
expect session.sessionStats.reviewed 0
expect session.sessionStats.again 0
expect session.sessionStats.hard 0
expect session.sessionStats.good 0
expect session.sessionStats.easy 0

# Grade first item as Good (3)
inspect-next
expect session.nextItem note-1
grade note-1 3

inspect-stats
expect session.sessionStats.reviewed 1
expect session.sessionStats.good 1

# Grade second item as Again (1)
inspect-next
expect session.nextItem note-2
grade note-2 1

inspect-stats
expect session.sessionStats.reviewed 2
expect session.sessionStats.again 1

# Grade third item as Hard (2)
inspect-next
expect session.nextItem note-3
grade note-3 2

inspect-stats
expect session.sessionStats.reviewed 3
expect session.sessionStats.hard 1

# Grade fourth item as Easy (4)
inspect-next
expect session.nextItem note-4
grade note-4 4

inspect-stats
expect session.sessionStats.reviewed 4
expect session.sessionStats.easy 1

# Reset session and verify stats cleared
reset-session
inspect-stats
expect session.sessionStats.reviewed 0
